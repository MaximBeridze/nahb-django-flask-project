{% extends "base.html" %}
{% block content %}
  <h1>Stories</h1>
  <p class="muted">Published stories are loaded from the Flask API.</p>

  {% if error %}
    <div class="card">
      <h3>API error</h3>
      <p class="muted">{{ error }}</p>
      <p class="muted">Make sure Flask is running on <code>http://127.0.0.1:5001</code>.</p>
    </div>
  {% endif %}

  {% for s in stories %}
    <div class="card">
      <h2 style="margin:0 0 6px 0;">{{ s.title }}</h2>
      <div class="muted">{{ s.description }}</div>
      <div class="btn-row">
        <a class="btn" href="{% url 'story_detail' s.id %}">View</a>
        <a class="btn" href="{% url 'play_start' s.id %}">Play</a>
      </div>
    </div>
  {% empty %}
    <div class="card">
      <p class="muted">No published stories found.</p>
    </div>
  {% endfor %}
{% endblock %}
